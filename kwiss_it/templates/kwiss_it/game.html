{% extends "kwiss_it/lobby.html" %}
{% load static %}
{% load i18n lazysignup_tags %}
{% block game %}
    <div class="fixed-top">
        <div class="progress">
            <div class="progress-bar bg-warning" id="timeBar" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-10 mx-auto p-3 mb-4" id="qHeader">
                <div class="row pb-1 mb-1">
                    <div class="col-6 my-auto">
                        <small class="" id="qhCategory"></small>
                    </div>
                    <div class="col-6 my-auto text-end">
                        <small id="qhCurrentQuestion"></small> / <small id="qhMaxQuestion"></small>
                    </div>
                </div>
                <div class="row pb-1">
                    <h3 id="qhQuestion"></h3>
                </div>
                <div class="row pb-1 mb-1">
                    <div class="col-6 my-auto">
                        <h6 id="qhType"></h6>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container mx-auto p-3 mb-4" id="answers">
        <div class="row col-lg-10">
            Hier werden die Antwortmöglichkeiten angezeigt.
        </div>
    </div>
    <div class="container mx-auto p-3 mb-4 invisible" id="qResult">
        <div class="row col-lg-10 mb-4">
            <h3 id="myResult"></h3>
            <table>
                <thead>
                <tr>
                    <th scope="col" class="col-4 text-center"></th>
                    <th scope="col" class="col-4 text-center"></th>
                    <th scope="col" class="col-4 text-center"></th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td id="myAddition" class="text-center"></td>
                    <td id="myStreak" class="text-center"></td>
                    <td id="myScore" class="text-center"></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="row col-lg-10">
            <table>
                <thead>
                <tr>
                    <th scope="col" class="col-3">Spieler</th>
                    <th scope="col" class="col-3 text-center">Ergebnis</th>
                    <th scope="col" class="col-3 text-center">Streak</th>
                    <th scope="col" class="col-3 text-center">Punkte insgesamt</th>
                </tr>
                </thead>
                <tbody id="overallResult">

                </tbody>
            </table>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="">
                <button class="btn btn-primary" id="submitAnswer">Antwort senden</button>
            </div>
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-outline-danger" id="report">Frage oder Antwort MELDEN</button>
                <button type="button" class="btn btn-outline-success" id="upvote">&#x1f44d;</button>
                <button type="button" class="btn btn-outline-danger" id="downvote">&#x1F44E;</button>
            </div>
        </div>
    </div>

    <div class="invisible" hidden>
        {% include 'kwiss_it/game_questiontypes.html' %}
    </div>

    {# TODO: BIG Todo for whole game frontend #}
    {# Left area (6 out of 10) #}
    {#   Question picture #}
    {#   Smol category name #}
    {#   Big Question #}
    {#   Answer area #}
    {#   Submit button #}
    {#   "Time left" bar or something like that #}
    {# Right area (4 out of 10) #}
    {#   Current question number / questions left #}
    {#   current user points and point streak #}
    {#   lobby user list and lobby user points #}
    {# TODO: Timedrift im Race Mode erzeugt Report, also wenn der Spieler viel schneller war als der Server #}
    {#          Also z.B. Spieler hat Frage 2 beantwortet, aber Server ist noch bei Frage 1 oder im Score Screen von Frage 1 #}
    {# TODO: Spieler sendet Ingame alle 50-100ms einen Heartbeat. Workaround für ohne Websocket #}
    {# TODO: Spieler warten nach Frage auf alle anderen Spieler. Spieler ohne Heartbeat für 10s wird gekickt. Spiel wird nicht gewertet für ihn #}
{% endblock %}
{% block gamescript %}
    <script src="{% static 'js/game.js' %}"></script>
{% endblock %}