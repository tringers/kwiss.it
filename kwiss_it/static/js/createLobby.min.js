const e=50,t=5,n=10,d=124,l=2,a=16,m=document.getElementById("categorylist"),c=document.getElementById("categorySelects");let i=1,u=1,s={};function o(){fetch(api_url+"/category/?page="+i).then(e=>e.json().then(t=>{u=Math.ceil(t.count/10);for(let e=0;e<t.results.length;e++){var n=t.results[e];void 0===s[n.Cname]&&(s[n.Cname]=n)}r(),v()}))}function r(){let n=Object.keys(s);for(let t=0;t<n.length;t++){var e=s[n[t]];void 0===e.Camount&&fetch(api_url+"/question/?cid="+e.Cid).then(e=>e.json().then(e=>{void 0===e||e===[]||e.length<=0?s[n[t]].Camount=0:s[n[t]].Camount=e.length,v()}))}}function v(){let r=Object.keys(s);m.innerHTML="";for(let o=10*(i-1);o<Math.min(10*i,r.length);o++){let e=s[r[o]],t=document.createElement("tr"),n=document.createElement("td"),d=document.createElement("td"),l=document.createElement("td"),a=document.createElement("input");n.innerHTML=e.Cname,d.innerHTML=e.Camount,d.classList.add("text-center"),l.classList.add("selection-hover"),l.classList.add("text-center"),a.type="checkbox",a.name="categories",a.classList.add("form-check-input"),a.value=e.Cid.toString(),void 0===e.selected&&(e.selected=!1,s[r[o]].selected=!1),a.checked=e.selected,l.addEventListener("click",e=>{"input"!==e.path[0].localName&&(a.checked=!a.checked,s[r[o]].selected=a.checked,h())}),a.addEventListener("change",()=>{s[r[o]].selected=a.checked,h()}),l.appendChild(a),t.appendChild(n),t.appendChild(d),t.appendChild(l),m.appendChild(t);let c=document.createElement("tr"),i=document.createElement("td");c.hidden=!0,i.setAttribute("colspan","3"),i.innerText=e.Cdescription,c.appendChild(i),m.appendChild(c),n.addEventListener("click",e=>{c.hidden=!c.hidden}),d.addEventListener("click",e=>{c.hidden=!c.hidden});let u=document.createElement("tr");u.hidden=!0,m.appendChild(u)}}function h(){var n=Object.keys(s);c.innerHTML="";for(let t=0;t<n.length;t++){let e=document.createElement("input");e.value=s[n[t]].Cid.toString(),e.checked=s[n[t]].selected,c.appendChild(e)}}o(),document.getElementById("prev").addEventListener("click",()=>{i--,i<1&&(i=1),o()}),document.getElementById("next").addEventListener("click",()=>{i++,i>u&&(i=u),o()});let p=document.getElementById("lobbytype"),E=document.getElementById("lobbypasswordfield");function g(){E.hidden=!0}function f(){E.hidden=!1}p.addEventListener("change",function(){"Ã–ffentlich"===p.value||"public"===p.value?g():"Privat"!==p.value&&"private"!==p.value||f()});let y=document.getElementById("questionamountslider"),L=document.getElementById("questionamountfield");y.addEventListener("change",function(){L.value=y.value}),L.addEventListener("change",function(){L.value>e?L.value=e:L.value<t&&(L.value=t),y.value=L.value});let C=document.getElementById("timeamountslider"),k=document.getElementById("timeamountfield");C.addEventListener("change",function(){k.value=C.value}),k.addEventListener("change",function(){k.value>d?k.value=d:k.value<n&&(k.value=n),C.value=k.value});let B=document.getElementById("playeramountslider"),I=document.getElementById("playeramountfield");B.addEventListener("change",function(){I.value=B.value}),I.addEventListener("change",function(){I.value>a?I.value=a:I.value<l&&(I.value=l),B.value=I.value});