const e=50,t=5,n=10,d=124,l=2,a=16,m=document.getElementById("categorylist"),c=document.getElementById("categorySelects");let i=1,u=1,r={};function o(){fetch(api_url+"/category/?page="+i).then(e=>e.json().then(t=>{u=Math.ceil(t.count/10);for(let e=0;e<t.results.length;e++){var n=t.results[e];void 0===r[n.Cname]&&(r[n.Cname]=n)}v(),h()}))}function v(){let n=Object.keys(r);for(let t=0;t<n.length;t++){var e=r[n[t]];void 0===e.Camount&&fetch(api_url+"/question/?cid="+e.Cid).then(e=>e.json().then(e=>{void 0===e||e===[]||e.length<=0?r[n[t]].Camount=0:r[n[t]].Camount=e.length,h()}))}}function h(){let o=Object.keys(r);m.innerHTML="";for(let u=10*(i-1);u<Math.min(10*i,o.length);u++){let e=r[o[u]],t=document.createElement("tr"),n=document.createElement("td"),d=document.createElement("td"),l=document.createElement("td"),a=document.createElement("input");n.innerHTML=e.Cname,d.innerHTML=e.Camount,a.type="checkbox",a.name="categories",a.classList.add("form-check-input"),a.value=e.Cid.toString(),void 0===e.selected&&(e.selected=!1,r[o[u]].selected=!1),a.checked=e.selected,l.addEventListener("click",e=>{"input"!==e.path[0].localName&&(a.checked=!a.checked,r[o[u]].selected=a.checked,s())}),a.addEventListener("change",()=>{r[o[u]].selected=a.checked,s()}),l.appendChild(a),t.appendChild(n),t.appendChild(d),t.appendChild(l),m.appendChild(t);let c=document.createElement("tr"),i=document.createElement("td");c.hidden=!0,i.setAttribute("colspan","3"),i.innerText=e.Cdescription,c.appendChild(i),m.appendChild(c),n.addEventListener("click",e=>{c.hidden=!c.hidden}),d.addEventListener("click",e=>{c.hidden=!c.hidden})}}function s(){var n=Object.keys(r);c.innerHTML="";for(let t=0;t<n.length;t++){let e=document.createElement("input");e.value=r[n[t]].Cid.toString(),e.checked=r[n[t]].selected,c.appendChild(e)}}o(),document.getElementById("prev").addEventListener("click",()=>{i--,i<1&&(i=1),o()}),document.getElementById("next").addEventListener("click",()=>{i++,i>u&&(i=u),o()});let p=document.getElementById("lobbytype"),g=document.getElementById("lobbypasswordfield");function E(){g.hidden=!0}function f(){g.hidden=!1}p.addEventListener("change",function(){"Ã–ffentlich"===p.value||"public"===p.value?E():"Privat"!==p.value&&"private"!==p.value||f()});let y=document.getElementById("questionamountslider"),C=document.getElementById("questionamountfield");y.addEventListener("change",function(){C.value=y.value}),C.addEventListener("change",function(){C.value>e?C.value=e:C.value<t&&(C.value=t),y.value=C.value});let L=document.getElementById("timeamountslider"),k=document.getElementById("timeamountfield");L.addEventListener("change",function(){k.value=L.value}),k.addEventListener("change",function(){k.value>d?k.value=d:k.value<n&&(k.value=n),L.value=k.value});let B=document.getElementById("playeramountslider"),I=document.getElementById("playeramountfield");B.addEventListener("change",function(){I.value=B.value}),I.addEventListener("change",function(){I.value>a?I.value=a:I.value<l&&(I.value=l),B.value=I.value});