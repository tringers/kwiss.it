let u=document.getElementById("templateaccordionitemclass").innerHTML,d="",i="";const g=document.getElementById("accordioncat");let m=new Map;function e(){n(),o()}function t(){fetch(api_url+"/questiontype").then(e=>e.json().then(t=>{for(let e=0;e<t.length;e++)m.set(t[e].QTid,t[e].QTdescription)}))}function n(){let e=document.getElementById("templateanswer");i=e.innerHTML,e.remove();let t=document.getElementById("templateaccordionitemquestion");d=t.innerHTML,t.remove();let n=document.getElementById("templateaccordionitemclass");u=n.innerHTML,n.remove()}function o(e=api_url+"/category/?approved=true&pending=true&denied=true"){fetch(e).then(e=>e.json().then(e=>{var t=e.next,l=e.results;if(l){for(let m=0;m<l.length;m++){let e=document.createElement("div");e.innerHTML=u,e.classList.add("accordion-item"),g.appendChild(e);let t=document.getElementById("accordionheader"),n=document.getElementById("collapseOne");t.id="accordionheader"+m.toString(),t.setAttribute("data-bs-target","#collapseOne"+m.toString()),n.id="collapseOne"+m.toString();let d=document.getElementById("catname"),i=document.getElementById("catdesc"),o=document.getElementById("catstate"),r=document.getElementById("promote"),c=document.getElementById("demote");d.innerHTML=l[m].Cname,d.id="catname"+m.toString(),i.innerHTML=l[m].Cdescription,i.id="catdesc"+m.toString(),o.innerHTML=1===l[m].STid?"approved":2===l[m].STid?"denied":"pending",o.id="catstate"+m.toString(),r.innerHTML=1===l[m].STid?"pending":"approved",r.id="promote"+m.toString(),c.innerHTML=3===l[m].STid?"pending":"denied",r.addEventListener("click",function(){}),c.addEventListener("click",function(){});let a=document.getElementById("accordionquestions");a.id="accordionquestions"+m.toString(),s(m.toString(),l.Cid)}null!=t&&o(t)}}))}function s(a,e){url=api_url+"/question/?approved=true&pending=true&denied=true&cid="+e.toString(),fetch(url).then(e=>e.json().then(c=>{let e=document.getElementById("accordionquestions"+a),t=document.createElement("div");t.classList.add("accordion-item"),t.innerHTML=d,e.appendChild(t);for(let r=0;r<c.length;r++){let e=document.getElementById("question"),t=document.getElementById("questiontype"),n=document.getElementById("questionstate"),d=document.getElementById("qpromote"),i=document.getElementById("qdemote");e.id="category"+a+"question"+r.toString(),e.innerHTML=c[r].Qtext,t.id="category"+a+"questiontype"+r.toString(),t.innerHTML=m.get(c[r].QTid),n.id="category"+a+"questionstate"+r.toString(),n.innerHTML=1===c[r].STid?"approved":2===c[r].STid?"denied":"pending",d.id="category"+a+"qpromote"+r.toString(),d.innerHTML=1===c[r].STid?"pending":"approved",i.id="category"+a+"qdemote"+r.toString(),i.innerHTML=3===c[r].STid?"pending":"denied";let o=document.getElementById("answers");o.id="category"+a+"answers"+r.toString(),l(a,r)}}))}function l(e,t){}document.addEventListener("DOMContentLoaded",e);